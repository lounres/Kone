/*
 * Copyright Â© 2023 Gleb Minaev
 * All rights reserved. Licensed under the Apache License, Version 2.0. See the license in file LICENSE
 */

@file:OptIn(ExperimentalKoneAPI::class)

package com.lounres.kone.polynomial

import com.lounres.kone.algebraic.Rational
import com.lounres.kone.annotations.ExperimentalKoneAPI
import io.kotest.core.spec.style.AnnotationSpec
import kotlin.test.assertEquals


@OptIn(ExperimentalKoneAPI::class)
class NumberedPolynomialUtilTest : AnnotationSpec() {
    @Test
    @Ignore
    fun test_Polynomial_derivativeWithRespectTo_variable() {
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-2),
                listOf(1u) to Rational(2),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).derivativeWithRespectTo(Rational.field, 0),
            "test 1"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-2, 3),
                listOf(1u) to Rational(1, 1),
                listOf(2u) to Rational(-33, 8),
                listOf(3u) to Rational(72, 1),
                listOf(0u, 1u) to Rational(2, 3),
                listOf(1u, 1u) to Rational(-22, 1),
                listOf(2u, 1u) to Rational(-1, 1),
                listOf(3u, 1u) to Rational(-36, 1),
                listOf(0u, 2u) to Rational(-8, 5),
                listOf(1u, 2u) to Rational(-1, 4),
                listOf(2u, 2u) to Rational(12, 7),
                listOf(3u, 2u) to Rational(-2, 1),
                listOf(0u, 3u) to Rational(16, 8),
                listOf(1u, 3u) to Rational(-4, 1),
                listOf(2u, 3u) to Rational(9, 2),
                listOf(3u, 3u) to Rational(20, 9),
                listOf(0u, 4u) to Rational(-10, 1),
                listOf(1u, 4u) to Rational(-14, 1),
                listOf(2u, 4u) to Rational(3, 7),
                listOf(3u, 4u) to Rational(20, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).derivativeWithRespectTo(Rational.field, 0),
            "test 2a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-18, 3),
                listOf(1u) to Rational(2, 3),
                listOf(2u) to Rational(-11, 1),
                listOf(3u) to Rational(-1, 3),
                listOf(4u) to Rational(-18, 2),
                listOf(0u, 1u) to Rational(-20, 3),
                listOf(1u, 1u) to Rational(-16, 5),
                listOf(2u, 1u) to Rational(-1, 4),
                listOf(3u, 1u) to Rational(8, 7),
                listOf(4u, 1u) to Rational(-1, 1),
                listOf(0u, 2u) to Rational(9, 7),
                listOf(1u, 2u) to Rational(6, 1),
                listOf(2u, 2u) to Rational(-6, 1),
                listOf(3u, 2u) to Rational(9, 2),
                listOf(4u, 2u) to Rational(5, 3),
                listOf(0u, 3u) to Rational(-9, 1),
                listOf(1u, 3u) to Rational(-40, 1),
                listOf(2u, 3u) to Rational(-28, 1),
                listOf(3u, 3u) to Rational(4, 7),
                listOf(4u, 3u) to Rational(20, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).derivativeWithRespectTo(Rational.field, 1),
            "test 2b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(-1, 4),
                listOf(2u, 2u) to Rational(12, 7),
                listOf(3u, 2u) to Rational(-2, 1),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(-4, 1),
                listOf(2u, 3u) to Rational(9, 2),
                listOf(3u, 3u) to Rational(20, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(-14, 1),
                listOf(2u, 4u) to Rational(3, 7),
                listOf(3u, 4u) to Rational(20, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).derivativeWithRespectTo(Rational.field, 0),
            "test 3a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(-1, 4),
                listOf(3u, 1u) to Rational(8, 7),
                listOf(4u, 1u) to Rational(-1, 1),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-6, 1),
                listOf(3u, 2u) to Rational(9, 2),
                listOf(4u, 2u) to Rational(5, 3),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-28, 1),
                listOf(3u, 3u) to Rational(4, 7),
                listOf(4u, 3u) to Rational(20, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).derivativeWithRespectTo(Rational.field, 1),
            "test 3b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-2, 3),
                listOf(1u) to Rational(1, 1),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(0u, 1u) to Rational(2, 3),
                listOf(1u, 1u) to Rational(-22, 1),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-8, 5),
                listOf(1u, 2u) to Rational(-1, 4),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).derivativeWithRespectTo(Rational.field, 0),
            "test 4a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-18, 3),
                listOf(1u) to Rational(2, 3),
                listOf(2u) to Rational(-11, 1),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-20, 3),
                listOf(1u, 1u) to Rational(-16, 5),
                listOf(2u, 1u) to Rational(-1, 4),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).derivativeWithRespectTo(Rational.field, 1),
            "test 4b"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).derivativeWithRespectTo(Rational.field, 5),
            "test 5"
        )
    }
    @Test
    @Ignore
    fun test_Polynomial_nthDerivativeWithRespectTo_variable_order() {
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-2),
                listOf(1u) to Rational(2),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, 0, 1u),
            "test 1"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, 0, 0u),
            "test 2"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(2),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, 0, 2u),
            "test 3"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, 0, 3u),
            "test 4"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, 0, 4u),
            "test 5"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, 1, 0u),
            "test 6"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, 1, 1u),
            "test 7"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, 1, 2u),
            "test 8"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1, 1),
                listOf(1u) to Rational(-33, 4),
                listOf(2u) to Rational(216, 1),
                listOf(0u, 1u) to Rational(-22, 1),
                listOf(1u, 1u) to Rational(-2, 1),
                listOf(2u, 1u) to Rational(-108, 1),
                listOf(0u, 2u) to Rational(-1, 4),
                listOf(1u, 2u) to Rational(24, 7),
                listOf(2u, 2u) to Rational(-6, 1),
                listOf(0u, 3u) to Rational(-4, 1),
                listOf(1u, 3u) to Rational(9, 1),
                listOf(2u, 3u) to Rational(20, 3),
                listOf(0u, 4u) to Rational(-14, 1),
                listOf(1u, 4u) to Rational(6, 7),
                listOf(2u, 4u) to Rational(60, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, 0, 2u),
            "test 9a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-20, 3),
                listOf(1u) to Rational(-16, 5),
                listOf(2u) to Rational(-1, 4),
                listOf(3u) to Rational(8, 7),
                listOf(4u) to Rational(-1, 1),
                listOf(0u, 1u) to Rational(18, 7),
                listOf(1u, 1u) to Rational(12, 1),
                listOf(2u, 1u) to Rational(-12, 1),
                listOf(3u, 1u) to Rational(9, 1),
                listOf(4u, 1u) to Rational(10, 3),
                listOf(0u, 2u) to Rational(-27, 1),
                listOf(1u, 2u) to Rational(-120, 1),
                listOf(2u, 2u) to Rational(-84, 1),
                listOf(3u, 2u) to Rational(12, 7),
                listOf(4u, 2u) to Rational(60, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, 1, 2u),
            "test 9b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-1, 4),
                listOf(1u, 2u) to Rational(24, 7),
                listOf(2u, 2u) to Rational(-6, 1),
                listOf(0u, 3u) to Rational(-4, 1),
                listOf(1u, 3u) to Rational(9, 1),
                listOf(2u, 3u) to Rational(20, 3),
                listOf(0u, 4u) to Rational(-14, 1),
                listOf(1u, 4u) to Rational(6, 7),
                listOf(2u, 4u) to Rational(60, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, 0, 2u),
            "test 10a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(-1, 4),
                listOf(3u) to Rational(8, 7),
                listOf(4u) to Rational(-1, 1),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(-12, 1),
                listOf(3u, 1u) to Rational(9, 1),
                listOf(4u, 1u) to Rational(10, 3),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-84, 1),
                listOf(3u, 2u) to Rational(12, 7),
                listOf(4u, 2u) to Rational(60, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, 1, 2u),
            "test 10b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1, 1),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(0u, 1u) to Rational(-22, 1),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-1, 4),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthDerivativeWithRespectTo(Rational.field, 0, 2u),
            "test 11a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-20, 3),
                listOf(1u) to Rational(-16, 5),
                listOf(2u) to Rational(-1, 4),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthDerivativeWithRespectTo(Rational.field, 1, 2u),
            "test 11b"
        )
    }
    @Test
    @Ignore
    fun test_Polynomial_nthDerivativeWithRespectTo_variablesAndOrders() {
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-2),
                listOf(1u) to Rational(2),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 1u)),
            "test 1"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 0u)),
            "test 2"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(2),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 2u)),
            "test 3"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 3u)),
            "test 4"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 4u)),
            "test 5"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(1 to 0u)),
            "test 6"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(1 to 1u)),
            "test 7"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(1 to 2u)),
            "test 8"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf()),
            "test 9"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-2),
                listOf(1u) to Rational(2),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(
                Rational.field, mapOf(
                0 to 1u,
                1 to 0u
            )),
            "test 10"
        )
        assertEquals(
            NumberedPolynomialAsIs(),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthDerivativeWithRespectTo(
                Rational.field, mapOf(
                0 to 0u,
                1 to 1u
            )),
            "test 11"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1, 1),
                listOf(1u) to Rational(-33, 4),
                listOf(2u) to Rational(216, 1),
                listOf(0u, 1u) to Rational(-22, 1),
                listOf(1u, 1u) to Rational(-2, 1),
                listOf(2u, 1u) to Rational(-108, 1),
                listOf(0u, 2u) to Rational(-1, 4),
                listOf(1u, 2u) to Rational(24, 7),
                listOf(2u, 2u) to Rational(-6, 1),
                listOf(0u, 3u) to Rational(-4, 1),
                listOf(1u, 3u) to Rational(9, 1),
                listOf(2u, 3u) to Rational(20, 3),
                listOf(0u, 4u) to Rational(-14, 1),
                listOf(1u, 4u) to Rational(6, 7),
                listOf(2u, 4u) to Rational(60, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 2u)),
            "test 12a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(2, 3),
                listOf(1u) to Rational(-22, 1),
                listOf(2u) to Rational(-1, 1),
                listOf(3u) to Rational(-36, 1),
                listOf(0u, 1u) to Rational(-16, 5),
                listOf(1u, 1u) to Rational(-1, 2),
                listOf(2u, 1u) to Rational(24, 7),
                listOf(3u, 1u) to Rational(-4, 1),
                listOf(0u, 2u) to Rational(6, 1),
                listOf(1u, 2u) to Rational(-12, 1),
                listOf(2u, 2u) to Rational(27, 2),
                listOf(3u, 2u) to Rational(20, 3),
                listOf(0u, 3u) to Rational(-40, 1),
                listOf(1u, 3u) to Rational(-56, 1),
                listOf(2u, 3u) to Rational(12, 7),
                listOf(3u, 3u) to Rational(80, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 1u, 1 to 1u)),
            "test 12b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-20, 3),
                listOf(1u) to Rational(-16, 5),
                listOf(2u) to Rational(-1, 4),
                listOf(3u) to Rational(8, 7),
                listOf(4u) to Rational(-1, 1),
                listOf(0u, 1u) to Rational(18, 7),
                listOf(1u, 1u) to Rational(12, 1),
                listOf(2u, 1u) to Rational(-12, 1),
                listOf(3u, 1u) to Rational(9, 1),
                listOf(4u, 1u) to Rational(10, 3),
                listOf(0u, 2u) to Rational(-27, 1),
                listOf(1u, 2u) to Rational(-120, 1),
                listOf(2u, 2u) to Rational(-84, 1),
                listOf(3u, 2u) to Rational(12, 7),
                listOf(4u, 2u) to Rational(60, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(1 to 2u)),
            "test 12c"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-1, 4),
                listOf(1u, 2u) to Rational(24, 7),
                listOf(2u, 2u) to Rational(-6, 1),
                listOf(0u, 3u) to Rational(-4, 1),
                listOf(1u, 3u) to Rational(9, 1),
                listOf(2u, 3u) to Rational(20, 3),
                listOf(0u, 4u) to Rational(-14, 1),
                listOf(1u, 4u) to Rational(6, 7),
                listOf(2u, 4u) to Rational(60, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 2u)),
            "test 13a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(-1, 2),
                listOf(2u, 1u) to Rational(24, 7),
                listOf(3u, 1u) to Rational(-4, 1),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(-12, 1),
                listOf(2u, 2u) to Rational(27, 2),
                listOf(3u, 2u) to Rational(20, 3),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(-56, 1),
                listOf(2u, 3u) to Rational(12, 7),
                listOf(3u, 3u) to Rational(80, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 1u, 1 to 1u)),
            "test 13b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(-1, 4),
                listOf(3u) to Rational(8, 7),
                listOf(4u) to Rational(-1, 1),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(-12, 1),
                listOf(3u, 1u) to Rational(9, 1),
                listOf(4u, 1u) to Rational(10, 3),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-84, 1),
                listOf(3u, 2u) to Rational(12, 7),
                listOf(4u, 2u) to Rational(60, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(1 to 2u)),
            "test 13c"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1, 1),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(0u, 1u) to Rational(-22, 1),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-1, 4),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 2u)),
            "test 14a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(2, 3),
                listOf(1u) to Rational(-22, 1),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(0u, 1u) to Rational(-16, 5),
                listOf(1u, 1u) to Rational(-1, 2),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(0 to 1u, 1 to 1u)),
            "test 14b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-20, 3),
                listOf(1u) to Rational(-16, 5),
                listOf(2u) to Rational(-1, 4),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthDerivativeWithRespectTo(Rational.field, mapOf(1 to 2u)),
            "test 14c"
        )
    }
    @Test
    @Ignore
    fun test_Polynomial_antiderivativeWithRespectTo_variable() {
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u) to Rational(1),
                listOf(2u) to Rational(-1),
                listOf(3u) to Rational(1, 3),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).antiderivativeWithRespectTo(Rational.field, 0),
            "test 1"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u) to Rational(-6, 8),
                listOf(2u) to Rational(-1, 3),
                listOf(3u) to Rational(1, 6),
                listOf(4u) to Rational(-11, 32),
                listOf(5u) to Rational(18, 5),
                listOf(1u, 1u) to Rational(-18, 3),
                listOf(2u, 1u) to Rational(1, 3),
                listOf(3u, 1u) to Rational(-11, 3),
                listOf(4u, 1u) to Rational(-1, 12),
                listOf(5u, 1u) to Rational(-18, 10),
                listOf(1u, 2u) to Rational(-10, 3),
                listOf(2u, 2u) to Rational(-4, 5),
                listOf(3u, 2u) to Rational(-1, 24),
                listOf(4u, 2u) to Rational(1, 7),
                listOf(5u, 2u) to Rational(-1, 10),
                listOf(1u, 3u) to Rational(3, 7),
                listOf(2u, 3u) to Rational(1, 1),
                listOf(3u, 3u) to Rational(-2, 3),
                listOf(4u, 3u) to Rational(3, 8),
                listOf(5u, 3u) to Rational(1, 9),
                listOf(1u, 4u) to Rational(-18, 8),
                listOf(2u, 4u) to Rational(-5, 1),
                listOf(3u, 4u) to Rational(-7, 3),
                listOf(4u, 4u) to Rational(1, 28),
                listOf(5u, 4u) to Rational(1, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).antiderivativeWithRespectTo(Rational.field, 0),
            "test 2a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 1u) to Rational(-6, 8),
                listOf(1u, 1u) to Rational(-2, 3),
                listOf(2u, 1u) to Rational(1, 2),
                listOf(3u, 1u) to Rational(-11, 8),
                listOf(4u, 1u) to Rational(18, 1),
                listOf(0u, 2u) to Rational(-9, 3),
                listOf(1u, 2u) to Rational(1, 3),
                listOf(2u, 2u) to Rational(-11, 2),
                listOf(3u, 2u) to Rational(-1, 6),
                listOf(4u, 2u) to Rational(-9, 2),
                listOf(0u, 3u) to Rational(-10, 9),
                listOf(1u, 3u) to Rational(-8, 15),
                listOf(2u, 3u) to Rational(-1, 24),
                listOf(3u, 3u) to Rational(4, 21),
                listOf(4u, 3u) to Rational(-1, 6),
                listOf(0u, 4u) to Rational(3, 28),
                listOf(1u, 4u) to Rational(1, 2),
                listOf(2u, 4u) to Rational(-1, 2),
                listOf(3u, 4u) to Rational(3, 8),
                listOf(4u, 4u) to Rational(5, 36),
                listOf(0u, 5u) to Rational(-9, 20),
                listOf(1u, 5u) to Rational(-2, 1),
                listOf(2u, 5u) to Rational(-7, 5),
                listOf(3u, 5u) to Rational(1, 35),
                listOf(4u, 5u) to Rational(1, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).antiderivativeWithRespectTo(Rational.field, 1),
            "test 2b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(5u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(5u, 1u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(-1, 24),
                listOf(4u, 2u) to Rational(1, 7),
                listOf(5u, 2u) to Rational(-1, 10),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(-2, 3),
                listOf(4u, 3u) to Rational(3, 8),
                listOf(5u, 3u) to Rational(1, 9),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(-7, 3),
                listOf(4u, 4u) to Rational(1, 28),
                listOf(5u, 4u) to Rational(1, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).antiderivativeWithRespectTo(Rational.field, 0),
            "test 3a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-1, 24),
                listOf(3u, 3u) to Rational(4, 21),
                listOf(4u, 3u) to Rational(-1, 6),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-1, 2),
                listOf(3u, 4u) to Rational(3, 8),
                listOf(4u, 4u) to Rational(5, 36),
                listOf(0u, 5u) to Rational(0),
                listOf(1u, 5u) to Rational(0),
                listOf(2u, 5u) to Rational(-7, 5),
                listOf(3u, 5u) to Rational(1, 35),
                listOf(4u, 5u) to Rational(1, 1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).antiderivativeWithRespectTo(Rational.field, 1),
            "test 3b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u) to Rational(-6, 8),
                listOf(2u) to Rational(-1, 3),
                listOf(3u) to Rational(1, 6),
                listOf(4u) to Rational(0),
                listOf(5u) to Rational(0),
                listOf(1u, 1u) to Rational(-18, 3),
                listOf(2u, 1u) to Rational(1, 3),
                listOf(3u, 1u) to Rational(-11, 3),
                listOf(4u, 1u) to Rational(0),
                listOf(5u, 1u) to Rational(0),
                listOf(1u, 2u) to Rational(-10, 3),
                listOf(2u, 2u) to Rational(-4, 5),
                listOf(3u, 2u) to Rational(-1, 24),
                listOf(4u, 2u) to Rational(0),
                listOf(5u, 2u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(5u, 3u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
                listOf(5u, 4u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).antiderivativeWithRespectTo(Rational.field, 0),
            "test 4a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 1u) to Rational(-6, 8),
                listOf(1u, 1u) to Rational(-2, 3),
                listOf(2u, 1u) to Rational(1, 2),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-9, 3),
                listOf(1u, 2u) to Rational(1, 3),
                listOf(2u, 2u) to Rational(-11, 2),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(-10, 9),
                listOf(1u, 3u) to Rational(-8, 15),
                listOf(2u, 3u) to Rational(-1, 24),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
                listOf(0u, 5u) to Rational(0),
                listOf(1u, 5u) to Rational(0),
                listOf(2u, 5u) to Rational(0),
                listOf(3u, 5u) to Rational(0),
                listOf(4u, 5u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).antiderivativeWithRespectTo(Rational.field, 1),
            "test 4b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 0u, 0u, 0u, 0u, 1u) to Rational(-6, 8),
                listOf(1u, 0u, 0u, 0u, 0u, 1u) to Rational(-2, 3),
                listOf(2u, 0u, 0u, 0u, 0u, 1u) to Rational(1, 2),
                listOf(3u, 0u, 0u, 0u, 0u, 1u) to Rational(-11, 8),
                listOf(4u, 0u, 0u, 0u, 0u, 1u) to Rational(18, 1),
                listOf(0u, 1u, 0u, 0u, 0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u, 0u, 0u, 0u, 1u) to Rational(2, 3),
                listOf(2u, 1u, 0u, 0u, 0u, 1u) to Rational(-11, 1),
                listOf(3u, 1u, 0u, 0u, 0u, 1u) to Rational(-1, 3),
                listOf(4u, 1u, 0u, 0u, 0u, 1u) to Rational(-18, 2),
                listOf(0u, 2u, 0u, 0u, 0u, 1u) to Rational(-10, 3),
                listOf(1u, 2u, 0u, 0u, 0u, 1u) to Rational(-8, 5),
                listOf(2u, 2u, 0u, 0u, 0u, 1u) to Rational(-1, 8),
                listOf(3u, 2u, 0u, 0u, 0u, 1u) to Rational(4, 7),
                listOf(4u, 2u, 0u, 0u, 0u, 1u) to Rational(-4, 8),
                listOf(0u, 3u, 0u, 0u, 0u, 1u) to Rational(3, 7),
                listOf(1u, 3u, 0u, 0u, 0u, 1u) to Rational(16, 8),
                listOf(2u, 3u, 0u, 0u, 0u, 1u) to Rational(-16, 8),
                listOf(3u, 3u, 0u, 0u, 0u, 1u) to Rational(12, 8),
                listOf(4u, 3u, 0u, 0u, 0u, 1u) to Rational(5, 9),
                listOf(0u, 4u, 0u, 0u, 0u, 1u) to Rational(-18, 8),
                listOf(1u, 4u, 0u, 0u, 0u, 1u) to Rational(-10, 1),
                listOf(2u, 4u, 0u, 0u, 0u, 1u) to Rational(-14, 2),
                listOf(3u, 4u, 0u, 0u, 0u, 1u) to Rational(1, 7),
                listOf(4u, 4u, 0u, 0u, 0u, 1u) to Rational(15, 3),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).antiderivativeWithRespectTo(Rational.field, 5),
            "test 5"
        )
    }
    @Test
    @Ignore
    fun test_Polynomial_nthAntiderivativeWithRespectTo_variable_order() {
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u) to Rational(1),
                listOf(2u) to Rational(-1),
                listOf(3u) to Rational(1, 3),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 1u),
            "test 1"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 0u),
            "test 2"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-1, 3),
                listOf(4u) to Rational(1, 12),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 2u),
            "test 3"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(3u) to Rational(1, 6),
                listOf(4u) to Rational(-1, 12),
                listOf(5u) to Rational(1, 60),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 3u),
            "test 4"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(4u) to Rational(1, 24),
                listOf(5u) to Rational(-1, 60),
                listOf(6u) to Rational(1, 360),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 4u),
            "test 5"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 1, 0u),
            "test 6"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 1u) to Rational(1),
                listOf(1u, 1u) to Rational(-2),
                listOf(2u, 1u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 1, 1u),
            "test 7"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 2u) to Rational(1, 2),
                listOf(1u, 2u) to Rational(-1),
                listOf(2u, 2u) to Rational(1, 2),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 1, 2u),
            "test 8"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(2u) to Rational(-3, 8),
                listOf(3u) to Rational(-1, 9),
                listOf(4u) to Rational(1, 24),
                listOf(5u) to Rational(-11, 160),
                listOf(6u) to Rational(3, 5),
                listOf(2u, 1u) to Rational(-9, 3),
                listOf(3u, 1u) to Rational(1, 9),
                listOf(4u, 1u) to Rational(-11, 12),
                listOf(5u, 1u) to Rational(-1, 60),
                listOf(6u, 1u) to Rational(-3, 10),
                listOf(2u, 2u) to Rational(-5, 3),
                listOf(3u, 2u) to Rational(-4, 15),
                listOf(4u, 2u) to Rational(-1, 96),
                listOf(5u, 2u) to Rational(1, 35),
                listOf(6u, 2u) to Rational(-1, 60),
                listOf(2u, 3u) to Rational(3, 14),
                listOf(3u, 3u) to Rational(1, 3),
                listOf(4u, 3u) to Rational(-1, 6),
                listOf(5u, 3u) to Rational(3, 40),
                listOf(6u, 3u) to Rational(1, 54),
                listOf(2u, 4u) to Rational(-9, 8),
                listOf(3u, 4u) to Rational(-5, 3),
                listOf(4u, 4u) to Rational(-7, 12),
                listOf(5u, 4u) to Rational(1, 140),
                listOf(6u, 4u) to Rational(1, 6),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 2u),
            "test 9a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 2u) to Rational(-3, 8),
                listOf(1u, 2u) to Rational(-1, 3),
                listOf(2u, 2u) to Rational(1, 4),
                listOf(3u, 2u) to Rational(-11, 16),
                listOf(4u, 2u) to Rational(9, 1),
                listOf(0u, 3u) to Rational(-1, 1),
                listOf(1u, 3u) to Rational(1, 9),
                listOf(2u, 3u) to Rational(-11, 6),
                listOf(3u, 3u) to Rational(-1, 18),
                listOf(4u, 3u) to Rational(-9, 6),
                listOf(0u, 4u) to Rational(-5, 18),
                listOf(1u, 4u) to Rational(-2, 15),
                listOf(2u, 4u) to Rational(-1, 96),
                listOf(3u, 4u) to Rational(1, 21),
                listOf(4u, 4u) to Rational(-1, 24),
                listOf(0u, 5u) to Rational(3, 140),
                listOf(1u, 5u) to Rational(1, 10),
                listOf(2u, 5u) to Rational(-1, 10),
                listOf(3u, 5u) to Rational(3, 40),
                listOf(4u, 5u) to Rational(1, 36),
                listOf(0u, 6u) to Rational(-3, 40),
                listOf(1u, 6u) to Rational(-1, 3),
                listOf(2u, 6u) to Rational(-7, 30),
                listOf(3u, 6u) to Rational(1, 210),
                listOf(4u, 6u) to Rational(1, 6),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, 1, 2u),
            "test 9b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(5u) to Rational(0),
                listOf(6u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(5u, 1u) to Rational(0),
                listOf(6u, 1u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(-1, 96),
                listOf(5u, 2u) to Rational(1, 35),
                listOf(6u, 2u) to Rational(-1, 60),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(-1, 6),
                listOf(5u, 3u) to Rational(3, 40),
                listOf(6u, 3u) to Rational(1, 54),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(-7, 12),
                listOf(5u, 4u) to Rational(1, 140),
                listOf(6u, 4u) to Rational(1, 6),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 2u),
            "test 10a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-1, 96),
                listOf(3u, 4u) to Rational(1, 21),
                listOf(4u, 4u) to Rational(-1, 24),
                listOf(0u, 5u) to Rational(0),
                listOf(1u, 5u) to Rational(0),
                listOf(2u, 5u) to Rational(-1, 10),
                listOf(3u, 5u) to Rational(3, 40),
                listOf(4u, 5u) to Rational(1, 36),
                listOf(0u, 6u) to Rational(0),
                listOf(1u, 6u) to Rational(0),
                listOf(2u, 6u) to Rational(-7, 30),
                listOf(3u, 6u) to Rational(1, 210),
                listOf(4u, 6u) to Rational(1, 6),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, 1, 2u),
            "test 10b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(2u) to Rational(-3, 8),
                listOf(3u) to Rational(-1, 9),
                listOf(4u) to Rational(1, 24),
                listOf(5u) to Rational(0),
                listOf(6u) to Rational(0),
                listOf(2u, 1u) to Rational(-9, 3),
                listOf(3u, 1u) to Rational(1, 9),
                listOf(4u, 1u) to Rational(-11, 12),
                listOf(5u, 1u) to Rational(0),
                listOf(6u, 1u) to Rational(0),
                listOf(2u, 2u) to Rational(-5, 3),
                listOf(3u, 2u) to Rational(-4, 15),
                listOf(4u, 2u) to Rational(-1, 96),
                listOf(5u, 2u) to Rational(0),
                listOf(6u, 2u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(5u, 3u) to Rational(0),
                listOf(6u, 3u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
                listOf(5u, 4u) to Rational(0),
                listOf(6u, 4u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 2u),
            "test 11a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 2u) to Rational(-3, 8),
                listOf(1u, 2u) to Rational(-1, 3),
                listOf(2u, 2u) to Rational(1, 4),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(-1, 1),
                listOf(1u, 3u) to Rational(1, 9),
                listOf(2u, 3u) to Rational(-11, 6),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(-5, 18),
                listOf(1u, 4u) to Rational(-2, 15),
                listOf(2u, 4u) to Rational(-1, 96),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
                listOf(0u, 5u) to Rational(0),
                listOf(1u, 5u) to Rational(0),
                listOf(2u, 5u) to Rational(0),
                listOf(3u, 5u) to Rational(0),
                listOf(4u, 5u) to Rational(0),
                listOf(0u, 6u) to Rational(0),
                listOf(1u, 6u) to Rational(0),
                listOf(2u, 6u) to Rational(0),
                listOf(3u, 6u) to Rational(0),
                listOf(4u, 6u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthAntiderivativeWithRespectTo(Rational.field, 1, 2u),
            "test 11b"
        )
    }
    @Test
    @Ignore
    fun test_Polynomial_nthAntiderivativeWithRespectTo_variablesAndOrders() {
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u) to Rational(1),
                listOf(2u) to Rational(-1),
                listOf(3u) to Rational(1, 3),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(0 to 1u)),
            "test 1"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 0u),
            "test 2"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-1, 3),
                listOf(4u) to Rational(1, 12),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 2u),
            "test 3"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(3u) to Rational(1, 6),
                listOf(4u) to Rational(-1, 12),
                listOf(5u) to Rational(1, 60),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 3u),
            "test 4"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(4u) to Rational(1, 24),
                listOf(5u) to Rational(-1, 60),
                listOf(6u) to Rational(1, 360),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 0, 4u),
            "test 5"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 1, 0u),
            "test 6"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 1u) to Rational(1),
                listOf(1u, 1u) to Rational(-2),
                listOf(2u, 1u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 1, 1u),
            "test 7"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 2u) to Rational(1, 2),
                listOf(1u, 2u) to Rational(-1),
                listOf(2u, 2u) to Rational(1, 2),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, 1, 2u),
            "test 8"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf()),
            "test 9"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u) to Rational(1),
                listOf(2u) to Rational(-1),
                listOf(3u) to Rational(1, 3),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(
                Rational.field, mapOf(
                0 to 1u,
                1 to 0u
            )),
            "test 10"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 1u) to Rational(1),
                listOf(1u, 1u) to Rational(-2),
                listOf(2u, 1u) to Rational(1),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(1),
                listOf(1u) to Rational(-2),
                listOf(2u) to Rational(1),
            ).nthAntiderivativeWithRespectTo(
                Rational.field, mapOf(
                0 to 0u,
                1 to 1u
            )),
            "test 11"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(2u) to Rational(-3, 8),
                listOf(3u) to Rational(-1, 9),
                listOf(4u) to Rational(1, 24),
                listOf(5u) to Rational(-11, 160),
                listOf(6u) to Rational(3, 5),
                listOf(2u, 1u) to Rational(-9, 3),
                listOf(3u, 1u) to Rational(1, 9),
                listOf(4u, 1u) to Rational(-11, 12),
                listOf(5u, 1u) to Rational(-1, 60),
                listOf(6u, 1u) to Rational(-3, 10),
                listOf(2u, 2u) to Rational(-5, 3),
                listOf(3u, 2u) to Rational(-4, 15),
                listOf(4u, 2u) to Rational(-1, 96),
                listOf(5u, 2u) to Rational(1, 35),
                listOf(6u, 2u) to Rational(-1, 60),
                listOf(2u, 3u) to Rational(3, 14),
                listOf(3u, 3u) to Rational(1, 3),
                listOf(4u, 3u) to Rational(-1, 6),
                listOf(5u, 3u) to Rational(3, 40),
                listOf(6u, 3u) to Rational(1, 54),
                listOf(2u, 4u) to Rational(-9, 8),
                listOf(3u, 4u) to Rational(-5, 3),
                listOf(4u, 4u) to Rational(-7, 12),
                listOf(5u, 4u) to Rational(1, 140),
                listOf(6u, 4u) to Rational(1, 6),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(0 to 2u)),
            "test 12a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u, 1u) to Rational(-6, 8),
                listOf(2u, 1u) to Rational(-1, 3),
                listOf(3u, 1u) to Rational(1, 6),
                listOf(4u, 1u) to Rational(-11, 32),
                listOf(5u, 1u) to Rational(18, 5),
                listOf(1u, 2u) to Rational(-9, 3),
                listOf(2u, 2u) to Rational(1, 6),
                listOf(3u, 2u) to Rational(-11, 6),
                listOf(4u, 2u) to Rational(-1, 24),
                listOf(5u, 2u) to Rational(-9, 10),
                listOf(1u, 3u) to Rational(-10, 9),
                listOf(2u, 3u) to Rational(-4, 15),
                listOf(3u, 3u) to Rational(-1, 72),
                listOf(4u, 3u) to Rational(1, 21),
                listOf(5u, 3u) to Rational(-1, 30),
                listOf(1u, 4u) to Rational(3, 28),
                listOf(2u, 4u) to Rational(1, 4),
                listOf(3u, 4u) to Rational(-1, 6),
                listOf(4u, 4u) to Rational(3, 32),
                listOf(5u, 4u) to Rational(1, 36),
                listOf(1u, 5u) to Rational(-9, 20),
                listOf(2u, 5u) to Rational(-1, 1),
                listOf(3u, 5u) to Rational(-7, 15),
                listOf(4u, 5u) to Rational(1, 140),
                listOf(5u, 5u) to Rational(1, 5),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(0 to 1u, 1 to 1u)),
            "test 12b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 2u) to Rational(-3, 8),
                listOf(1u, 2u) to Rational(-1, 3),
                listOf(2u, 2u) to Rational(1, 4),
                listOf(3u, 2u) to Rational(-11, 16),
                listOf(4u, 2u) to Rational(9, 1),
                listOf(0u, 3u) to Rational(-1, 1),
                listOf(1u, 3u) to Rational(1, 9),
                listOf(2u, 3u) to Rational(-11, 6),
                listOf(3u, 3u) to Rational(-1, 18),
                listOf(4u, 3u) to Rational(-9, 6),
                listOf(0u, 4u) to Rational(-5, 18),
                listOf(1u, 4u) to Rational(-2, 15),
                listOf(2u, 4u) to Rational(-1, 96),
                listOf(3u, 4u) to Rational(1, 21),
                listOf(4u, 4u) to Rational(-1, 24),
                listOf(0u, 5u) to Rational(3, 140),
                listOf(1u, 5u) to Rational(1, 10),
                listOf(2u, 5u) to Rational(-1, 10),
                listOf(3u, 5u) to Rational(3, 40),
                listOf(4u, 5u) to Rational(1, 36),
                listOf(0u, 6u) to Rational(-3, 40),
                listOf(1u, 6u) to Rational(-1, 3),
                listOf(2u, 6u) to Rational(-7, 30),
                listOf(3u, 6u) to Rational(1, 210),
                listOf(4u, 6u) to Rational(1, 6),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(-11, 8),
                listOf(4u) to Rational(18, 1),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(-1, 3),
                listOf(4u, 1u) to Rational(-18, 2),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(3, 7),
                listOf(1u, 3u) to Rational(16, 8),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(-18, 8),
                listOf(1u, 4u) to Rational(-10, 1),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(1 to 2u)),
            "test 12c"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(5u) to Rational(0),
                listOf(6u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(5u, 1u) to Rational(0),
                listOf(6u, 1u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(-1, 96),
                listOf(5u, 2u) to Rational(1, 35),
                listOf(6u, 2u) to Rational(-1, 60),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(-1, 6),
                listOf(5u, 3u) to Rational(3, 40),
                listOf(6u, 3u) to Rational(1, 54),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(-7, 12),
                listOf(5u, 4u) to Rational(1, 140),
                listOf(6u, 4u) to Rational(1, 6),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(0 to 2u)),
            "test 13a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(5u, 1u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(5u, 2u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(-1, 72),
                listOf(4u, 3u) to Rational(1, 21),
                listOf(5u, 3u) to Rational(-1, 30),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(-1, 6),
                listOf(4u, 4u) to Rational(3, 32),
                listOf(5u, 4u) to Rational(1, 36),
                listOf(1u, 5u) to Rational(0),
                listOf(2u, 5u) to Rational(0),
                listOf(3u, 5u) to Rational(-7, 15),
                listOf(4u, 5u) to Rational(1, 140),
                listOf(5u, 5u) to Rational(1, 5),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(0 to 1u, 1 to 1u)),
            "test 13b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(0),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-1, 96),
                listOf(3u, 4u) to Rational(1, 21),
                listOf(4u, 4u) to Rational(-1, 24),
                listOf(0u, 5u) to Rational(0),
                listOf(1u, 5u) to Rational(0),
                listOf(2u, 5u) to Rational(-1, 10),
                listOf(3u, 5u) to Rational(3, 40),
                listOf(4u, 5u) to Rational(1, 36),
                listOf(0u, 6u) to Rational(0),
                listOf(1u, 6u) to Rational(0),
                listOf(2u, 6u) to Rational(-7, 30),
                listOf(3u, 6u) to Rational(1, 210),
                listOf(4u, 6u) to Rational(1, 6),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(0),
                listOf(1u) to Rational(0),
                listOf(2u) to Rational(0),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(0),
                listOf(1u, 1u) to Rational(0),
                listOf(2u, 1u) to Rational(0),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(0),
                listOf(1u, 2u) to Rational(0),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(4, 7),
                listOf(4u, 2u) to Rational(-4, 8),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(-16, 8),
                listOf(3u, 3u) to Rational(12, 8),
                listOf(4u, 3u) to Rational(5, 9),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(-14, 2),
                listOf(3u, 4u) to Rational(1, 7),
                listOf(4u, 4u) to Rational(15, 3),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(1 to 2u)),
            "test 13c"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(2u) to Rational(-3, 8),
                listOf(3u) to Rational(-1, 9),
                listOf(4u) to Rational(1, 24),
                listOf(5u) to Rational(0),
                listOf(6u) to Rational(0),
                listOf(2u, 1u) to Rational(-9, 3),
                listOf(3u, 1u) to Rational(1, 9),
                listOf(4u, 1u) to Rational(-11, 12),
                listOf(5u, 1u) to Rational(0),
                listOf(6u, 1u) to Rational(0),
                listOf(2u, 2u) to Rational(-5, 3),
                listOf(3u, 2u) to Rational(-4, 15),
                listOf(4u, 2u) to Rational(-1, 96),
                listOf(5u, 2u) to Rational(0),
                listOf(6u, 2u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(5u, 3u) to Rational(0),
                listOf(6u, 3u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
                listOf(5u, 4u) to Rational(0),
                listOf(6u, 4u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(0 to 2u)),
            "test 14a"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(1u, 1u) to Rational(-6, 8),
                listOf(2u, 1u) to Rational(-1, 3),
                listOf(3u, 1u) to Rational(1, 6),
                listOf(4u, 1u) to Rational(0),
                listOf(5u, 1u) to Rational(0),
                listOf(1u, 2u) to Rational(-9, 3),
                listOf(2u, 2u) to Rational(1, 6),
                listOf(3u, 2u) to Rational(-11, 6),
                listOf(4u, 2u) to Rational(0),
                listOf(5u, 2u) to Rational(0),
                listOf(1u, 3u) to Rational(-10, 9),
                listOf(2u, 3u) to Rational(-4, 15),
                listOf(3u, 3u) to Rational(-1, 72),
                listOf(4u, 3u) to Rational(0),
                listOf(5u, 3u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
                listOf(5u, 4u) to Rational(0),
                listOf(1u, 5u) to Rational(0),
                listOf(2u, 5u) to Rational(0),
                listOf(3u, 5u) to Rational(0),
                listOf(4u, 5u) to Rational(0),
                listOf(5u, 5u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(0 to 1u, 1 to 1u)),
            "test 14b"
        )
        assertEquals(
            NumberedPolynomialAsIs(
                listOf(0u, 2u) to Rational(-3, 8),
                listOf(1u, 2u) to Rational(-1, 3),
                listOf(2u, 2u) to Rational(1, 4),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(-1, 1),
                listOf(1u, 3u) to Rational(1, 9),
                listOf(2u, 3u) to Rational(-11, 6),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(-5, 18),
                listOf(1u, 4u) to Rational(-2, 15),
                listOf(2u, 4u) to Rational(-1, 96),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
                listOf(0u, 5u) to Rational(0),
                listOf(1u, 5u) to Rational(0),
                listOf(2u, 5u) to Rational(0),
                listOf(3u, 5u) to Rational(0),
                listOf(4u, 5u) to Rational(0),
                listOf(0u, 6u) to Rational(0),
                listOf(1u, 6u) to Rational(0),
                listOf(2u, 6u) to Rational(0),
                listOf(3u, 6u) to Rational(0),
                listOf(4u, 6u) to Rational(0),
            ),
            NumberedPolynomialAsIs(
                listOf<UInt>() to Rational(-6, 8),
                listOf(1u) to Rational(-2, 3),
                listOf(2u) to Rational(1, 2),
                listOf(3u) to Rational(0),
                listOf(4u) to Rational(0),
                listOf(0u, 1u) to Rational(-18, 3),
                listOf(1u, 1u) to Rational(2, 3),
                listOf(2u, 1u) to Rational(-11, 1),
                listOf(3u, 1u) to Rational(0),
                listOf(4u, 1u) to Rational(0),
                listOf(0u, 2u) to Rational(-10, 3),
                listOf(1u, 2u) to Rational(-8, 5),
                listOf(2u, 2u) to Rational(-1, 8),
                listOf(3u, 2u) to Rational(0),
                listOf(4u, 2u) to Rational(0),
                listOf(0u, 3u) to Rational(0),
                listOf(1u, 3u) to Rational(0),
                listOf(2u, 3u) to Rational(0),
                listOf(3u, 3u) to Rational(0),
                listOf(4u, 3u) to Rational(0),
                listOf(0u, 4u) to Rational(0),
                listOf(1u, 4u) to Rational(0),
                listOf(2u, 4u) to Rational(0),
                listOf(3u, 4u) to Rational(0),
                listOf(4u, 4u) to Rational(0),
            ).nthAntiderivativeWithRespectTo(Rational.field, mapOf(1 to 2u)),
            "test 14c"
        )
    }
}